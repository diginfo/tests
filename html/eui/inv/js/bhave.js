$( document ).ready(function() {
  butEn('sx');

  // ALL edit boxes
  $('form .edit').combobox({
    panelHeight: 'auto',
    width: '206px',
    delete:false,
    fields: [
      {'type':'textbox','label':'ID', 'id':'value','class':'upper'},
      {'type':'textbox','label':'Text', 'id':'text'}
    ]
  }) 

  $('form#cprop #ACTION').combobox({ 
    fields: [
      {'type':'textbox','label':'ID', 'id':'value','class':'upper'},
      {'type':'combobox','label':'Job Class', 'id':'source', 'data':dwap.pdata.wocid},
      {'type':'textbox','label':'Text', 'id':'text'}
    ]
  }) 

  // colour selector
  $('.colours').combobox({
    formatter: function(row){
      return '<div class="'+row.value+'">'+row.text+'</div>';
    },
    
    onChange: function(){
      var rec = $(this).combobox('getRec');
      $(this).next().find('.textbox-text').addClass(rec.value);
    },
    
    _onSelect: function(rec){
      $(this).next().find('.textbox-text').addClass(rec.value);  
    },      
    
    data:[
      {value:'bg-brn',text:'Brown'},
      {value:'bg-red',text:'Red'},
      {value:'bg-ora',text:'Orange'},
      {value:'bg-yel',text:'Yellow'},
      {value:'bg-grn',text:'Green'},
      {value:'bg-cyn',text:'Cyan'},
      {value:'bg-blu',text:'Blue'},
      {value:'bg-pur',text:'Purple'},
      {value:'bg-gry',text:'Grey'},
      {value:'bg-sil',text:'Silver'},
      {value:'bg-clr',text:'Clear'}
    ]
    
  });
  
  //$('input.easyui-combobox').combobox('options').panelHeight = 'auto';  

})